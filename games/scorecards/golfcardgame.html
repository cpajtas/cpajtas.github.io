<!DOCTYPE html>

<html lang="en">


<!-- Created by Chris Pajtas on Jan 3 2021-->

<!-- add description and instructions for play -->
<head>
	<meta charset="UTF-8">
	<title> Chris's Webpage </title>
	<link href="../../CSS/StyleSheet.css" rel="stylesheet">
	<script>
function isOther() {
	if (document.getElementById('other').checked) {
		document.getElementById('other_rounds').style.visibility = "visible";
	}
}
function getNumRounds() {
	if (document.getElementById('nine').checked) {
		document.getElementById('other_rounds').style.visibility = "hidden";
		return document.getElementById('nine').value;
	} else if (document.getElementById('eighteen').checked) {
		document.getElementById('other_rounds').style.visibility = "hidden";
		return document.getElementById('eighteen').value;
	} else if (document.getElementById('other').checked) {
		isOther();
		return document.getElementById('other_rounds').value;
	}
}

function setScoreboard() {
	var players = document.getElementById("player_id").value;
	var rounds = parseInt(getNumRounds());
	
	var tabl = document.getElementById('scorecard');
	
	tabl.innerHTML = "";
	
	// players is columns + 1
	// rounds is rows + 1
	
	// create first row for names (1st row)
	var row = tabl.insertRow(0);
	var cel = row.insertCell(0);
	
	
		// adds player names into table (1st row)	
	for (var j=1; j<=players;j++) {
		cel = row.insertCell(j);
		cel.innerHTML = "<input type='test' value='player"+j+"'></input>"
	}

	// adds input for score
	for (var i=1; i<= rounds; i++) {
		row = tabl.insertRow(i);
		cel = row.insertCell(0);
		cel.innerHTML = i;
		for (var j=1; j<=players;j++) {
			var player = "player"+j;
			cel = row.insertCell(j);
			cel.innerHTML = "<input onchange='calculateScore(\""+player+"\")' type='number' name='"+player+"_score' value='0'></input>";
		}
	}
	
	// adds total
	row = tabl.insertRow(rounds+1);
	cel = row.insertCell(0);
	cel.innerHTML = "Total";
	for (var i=1;i<=players;i++) {
		cel = row.insertCell(i);
		cel.innerHTML = "<input  type='number' id='player"+i+"_total' value='0' readonly></input>";
	}
	
	

}

function disableSettings() {
	var t = document.getElementsByName('rounds');
	var pid = document.getElementById('player_id');
	var othr = document.getElementById('other_rounds');
	var lockcheck = document.getElementById('lock');
	
	if (lockcheck.checked == true) {
		pid.disabled = true;
		othr.disabled = true;
	} else {
		pid.disabled = false;
		othr.disabled = false;
	}
	
	for (var i=0; i<t.length; i++) {
		if (lockcheck.checked == true) {
			t[i].disabled = true;
		} else {
			t[i].disabled = false;
		}
	}
}

function calculateScore(player_score) {
	var player_count = document.getElementById('player_id');
	
		var round_score = document.getElementsByName(player_score + '_score');
		var score = 0;
		for (var j=0; j<round_score.length; j++) {
			score += parseInt(round_score[j].value);
		}
		
		document.getElementById(player_score+'_total').value = score;
	
}
</script>
</head>

<body class="main">

<p class="headerName"> Chris Pajtas â€¢ Student and Developer</p>

<ul class="topnav">
<li class="allli"><a class="notselected" href="../../index.html" >Home</a></li>
<li class="allli"><a class="notselected" href="../../programs/index.html" >Programs</a></li>
<li class="dropdown">
<!-- not working currently (supposed to be dropdown)-->
<a class="droplist" href="#" >Games</a>
<div class="dropdown-content">
	<a href="#">Scorecards</a>
	<a href="#">test1</a>
	<a href="#">test2</a>
</div>
</li>
<li class="allli"><a class="active" href="." >Golf Scorecard</a></li>
<li class="allli"><a class="notselected" href="../../programs/aboutme.html" >About Me</a></li>
<!-- make a disable checkbox to prevent changes -->
</ul>
<br>

<br>



<div>
Number of Players:
<input type="number" id="player_id" onchange="setScoreboard()" name="num_players" min="2" value="2" ></input>

<br>
<div>
Number of Rounds:
<input type="radio" onchange="setScoreboard()" id="nine" name="rounds" value="9" checked> 9 </input>
<input type="radio" onchange="setScoreboard()"  id="eighteen" name="rounds" value="18"> 18 </input>
<input type="radio" onchange="setScoreboard()"  id="other" name="rounds" value="other"> Other </input>
<input type="number" onchange="setScoreboard()"  id="other_rounds" value="1" min="1" ></input>
<input id="lock" type="checkbox" onclick="disableSettings()">Lock Settings</input>       
<!-- if other show number text box !-->
<table border="solid black 2px" id="scorecard">
</table>
<!-- need to add total -->

</div>



</div>

</body>
<footer>
<p style="text-align:left;"> Last updated: 
		<script>
		document.write(document.lastModified);
		</script></p>
</footer>
</html>